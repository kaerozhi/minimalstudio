---
import BaseLayout from "./BaseLayout.astro";
import { formatDate } from "@/utils/format";
import { slugify } from "@/utils/slugify";
import { config } from "@/site.config";
const { frontmatter } = Astro.props;
---
<BaseLayout title={frontmatter.title}>
  <link rel="stylesheet" href="/src/styles/entry.css">

  <article class="container-wide mt-32">
    <div class="lg:text-center">
      <div class="text-text-muted uppercase text-sm">
        <time>{formatDate(frontmatter.date)}</time> - 
        {
          frontmatter.categories.map((category) => (
            <span class="text-text-default mr-1 font-semibold">
              <a href={`/category/${slugify(category)}`}>{category}</a>
            </span>
          ))
        }
      </div>
      <h1 class="text-4xl/10 md:text-6xl/16 font-serif first-line:font-sans text-text-heading font-semibold my-4 tracking-tight">
          {frontmatter.title}
      </h1>
      <p class="text-lg mx-auto mb-10 text-text-default/75">
          {frontmatter.description}
      </p>

      { (frontmatter.photos) &&
      <div class="alignfull aspect-16/9 overflow-hidden rounded-xl">
        {(frontmatter.photos) &&
        <img 
            src={frontmatter.photos[0]}
            alt={frontmatter.title}
            class="w-full h-full object-cover object-center"
            loading="eager"
        />
        }
      </div>
      }
    </div>

    <div
      class="entry mt-12 mx-auto text-lg/6 md:text-xl/8 prose text-text-default prose-img:hover:drop-shadow-2xl prose-img:rounded-xl prose-img:duration-300">
      <slot />
    </div>
      
    <div>
      <div class="flex gap-3 mt-12">
        {
          frontmatter.tags.map((tag) => (
            <span class="inline-flex items-center uppercase text-sm text-text-default/75">
              <a href={`/tags/${slugify(tag)}`}>{tag}</a>
            </span>
          ))
        }
      </div>
    </div>
  </article>
</BaseLayout>
